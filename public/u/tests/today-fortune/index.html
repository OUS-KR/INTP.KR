<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>오늘의 운세 - INTP</title>
    <link rel="stylesheet" href="/assets/css/main.css">
    <style>
        /* Custom styles for fortune page, if any, can go here */
        .fortune-section {
            margin-bottom: 1.5em;
            padding: 1em;
            border-radius: 8px;
            background-color: var(--card-bg-color);
            box-shadow: var(--card-shadow);
        }
        .fortune-section h2 {
            color: var(--primary-color);
            margin-top: 0;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.5em;
            margin-bottom: 1em;
        }
        .fortune-section p, .fortune-section ul {
            font-size: 1.1em;
            line-height: 1.6;
        }
        .fortune-section ul {
            list-style: none;
            padding: 0;
        }
        .fortune-section ul li::before {
            content: '• ';
            color: var(--primary-color);
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
        }
    </style>
</head>
<body>
    <header class="main-nav">
        <a href="/u/tests/" class="logo">INTP.KR Tests</a>
        <div class="nav-right-section">
            <nav class="nav-links" id="nav-links">
                <div class="nav-item dropdown">
                    <button class="dropdown-toggle">오늘의 콘텐츠</button>
                    <div class="dropdown-menu">
                        <a href="/u/tests/today-fortune/">오늘의 운세</a>
                        <a href="/u/tests/today-game/">오늘의 게임</a>
                    </div>
                </div>
                <div class="nav-item dropdown">
                    <button class="dropdown-toggle">정보</button>
                    <div class="dropdown-menu">
                        <a href="/u/tests/info-characteristics/">특징</a>
                        <a href="/u/tests/info-careers/">커리어</a>
                        <a href="/u/tests/info-cognitive-functions/">인지기능</a>
                        <a href="/u/tests/info-subtypes/">하위유형</a>
                        <a href="/u/tests/info-relationships/">인간관계</a>
                        <a href="/u/tests/info-misconceptions/">흔한 오해</a>
                    </div>
                </div>
                <div class="nav-item dropdown">
                    <button class="dropdown-toggle">테스트</button>
                    <div class="dropdown-menu">
                        <a href="/u/tests/test-logic-quiz/">논리력 퀴즈</a>
                        <a href="/u/tests/test-relationship-style/">연애 스타일 테스트</a>
                        <a href="/u/tests/test-stress-triggers/">스트레스 테스트</a>
                        <a href="/u/tests/test-brain-utilization/">두뇌 활용 테스트</a>
                        <a href="/u/tests/test-bingo/">빙고 챌린지</a>
                        <a href="/u/tests/test-empathy-quiz/">INTP 공감 퀴즈</a>
                    </div>
                </div>
                <div class="nav-item dropdown">
                    <button class="dropdown-toggle">게임</button>
                    <div class="dropdown-menu">
                        <a href="/u/tests/game-logic-puzzle/">논리 퍼즐</a>
                        <a href="/u/tests/game-strategy-simulation/">전략 시뮬레이션</a>
                        <a href="/u/tests/game-code-decryption/">기억력 게임</a>
                        <a href="/u/tests/game-abstract-reasoning/">추상적 사고 게임</a>
                        <a href="/u/tests/game-travel-planner/">여행 계획 챌린지</a>
                        <a href="/u/tests/game-maze-challenge/">미로 챌린지</a>
                        <a href="/u/tests/game-code-breaker/">암호 해독기</a>
                        <a href="/u/tests/game-pathfinder/">경로 탐색기</a>
                    </div>
                </div>
            </nav>
            <button id="theme-switcher" class="theme-switcher">🌙</button>
            <button id="hamburger" class="hamburger">☰</button>
        </div>
    </header>

    <div class="container">
        <h1>오늘의 INTP 운세</h1>
        <div id="fortuneContent">
            <!-- Fortune content will be loaded here by JavaScript -->
            <div class="fortune-section">
                <h2>오늘의 조언</h2>
                <p id="adviceDisplay">조언을 불러오는 중...</p>
            </div>
            <div class="fortune-section">
                <h2>오늘의 과제</h2>
                <p id="taskDisplay">과제를 불러오는 중...</p>
            </div>
            <div class="fortune-section">
                <h2>INTP 지수</h2>
                <p id="intpIndexDisplay">INTP 지수를 불러오는 중...</p>
            </div>
            <div class="fortune-section">
                <h2>행운의 키워드</h2>
                <p id="keywordDisplay">키워드를 불러오는 중...</p>
            </div>
        </div>
    </div>

    <script src="/assets/js/main.js" defer></script>
    <script>
    function getDailySeed() {
        const today = new Date();
        return today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();
    }

    function mulberry32(seed) {
        return function() {
            seed |= 0;
            seed = seed + 0x6D2B79F5 | 0;
            let t = Math.imul(seed ^ seed >>> 15, 1 | seed);
            t = t + Math.imul(t ^ t >>> 7, 61 | t) | 0;
            return ((t ^ t >>> 14) >>> 0) / 4294967296;
        }
    }

    // --- Generative Data Parts ---
    const data = {
        advice: {
            openings: ["오늘은", "오늘 당신의", "지금은"],
            subjects: ["논리적 사고가", "지적 호기심이", "독창적인 아이디어가", "체계적인 분석력이", "추상적인 통찰력이"],
            verbs: ["빛을 발하는 날입니다.", "새로운 발견으로 이끌 것입니다.", "문제의 핵심을 꿰뚫어 봅니다.", "예상치 못한 기회를 가져다줍니다."],
            connectors: ["따라서", "그러니", "이 기회를 빌어"],
            actions: ["한 걸음 물러서서 전체 시스템을 조망해 보세요.", "당신의 생각을 과감하게 실험에 옮겨보세요.", "평소와 다른 관점에서 문제를 바라보세요.", "다양한 분야의 지식을 융합하여 새로운 해결책을 찾아보세요.", "가장 근본적인 원리를 파고드는 시간을 가져보세요."]
        },
        task: {
            actions: ["평소 궁금했던", "오랫동안 탐구하고 싶었던", "최근 흥미가 생긴"],
            subjects: ["과학적 원리", "철학적 개념", "복잡한 시스템", "사회적 현상", "미해결 문제"],
            verbs: ["에 대해 15분간 깊이 파고들어 보세요.", "의 핵심을 한 문장으로 요약해 보세요.", "을(를) 비전문가도 이해할 수 있도록 설명하는 글을 써보세요.", "과 관련된 새로운 아이디어를 3가지 이상 기록해 보세요."]
        },
        intpIndex: {
            reasons: ["논리 회로가 명료하게 작동하여", "창의적 영감이 샘솟아", "지적 탐구심이 최고조에 달해", "시스템 전체를 꿰뚫어보는 통찰력이 발휘되어"],
            results: ["분석적 사고력이 극대화됩니다.", "새로운 아이디어를 현실화할 가능성이 높습니다.", "복잡한 문제도 쉽게 해결할 수 있습니다."]
        },
        keywords: ["논리", "분석", "시스템", "통찰", "혁신", "아이디어", "탐구", "지식", "독립", "패턴", "융합", "추상화", "전략", "효율", "원리", "개념", "가설", "검증"]
    };

    // --- Generator Functions ---
    function generateAdvice(randFn, parts) {
        const pick = (arr) => arr[Math.floor(randFn() * arr.length)];
        
        const partCount = 2 + Math.floor(randFn() * 2); // 2 or 3
        
        if (partCount === 2) {
            return `${pick(parts.subjects)} ${pick(parts.verbs}`;
        } else {
            return `${pick(parts.openings)} ${pick(parts.subjects)} ${pick(parts.verbs)} ${pick(parts.connectors)} ${pick(parts.actions)}`;
        }
    }

    function generateTask(randFn, parts) {
        const pick = (arr) => arr[Math.floor(randFn() * arr.length)];
        return `오늘의 과제: ${pick(parts.actions)} ${pick(parts.subjects)}${pick(parts.verbs)}`;
    }

    function generateIntpIndex(randFn, parts) {
        const pick = (arr) => arr[Math.floor(randFn() * arr.length)];
        const percentage = 65 + Math.floor(randFn() * 31); // 65% to 95%
        return `${percentage}% - ${pick(parts.reasons)} ${pick(parts.results)}`;
    }

    function generateKeywords(randFn, keywords, count) {
        const shuffled = [...keywords].sort(() => randFn() - 0.5);
        return shuffled.slice(0, count).map(k => `#${k}`).join(" ");
    }

    // --- Main Execution ---
    window.onload = function() {
        const seed = getDailySeed();
        const randFn = mulberry32(seed);

        document.getElementById('adviceDisplay').innerText = generateAdvice(randFn, data.advice);
        document.getElementById('taskDisplay').innerText = generateTask(randFn, data.task);
        document.getElementById('intpIndexDisplay').innerText = generateIntpIndex(randFn, data.intpIndex);
        document.getElementById('keywordDisplay').innerText = generateKeywords(randFn, data.keywords, 5);
    };
</script>
</body>
</html>