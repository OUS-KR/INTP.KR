<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INTP 성향 테스트 - INTP의 모든 것</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <style>
        /* Styles specific to the quiz, overriding general styles if necessary */
        body {
            background-color: #f4f7f9; /* Light background for the quiz page specifically */
            color: #333;
        }
        #quiz-container {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 600px;
            margin: 60px auto; /* Add margin for spacing from header/footer */
            overflow: hidden;
            text-align: center;
        }
        .progress-bar-container {
            width: 100%;
            background-color: #e9ecef;
        }
        .progress-bar {
            width: 0;
            height: 10px;
            background-color: #4a90e2;
            transition: width 0.3s ease;
        }
        #quiz-content, #result-content {
            padding: 30px 40px;
        }
        #quiz-content h2 { /* More specific selector */
            color: #2c3e50;
            margin-top: 0;
        }
        .question {
            font-size: 1.2em;
            margin-bottom: 20px;
            min-height: 50px;
        }
        .answers {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .answer {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
        }
        .answer:hover {
            background-color: #e9ecef;
            border-color: #adb5bd;
        }
        #result-container {
            display: none;
        }
        .result-text {
            font-size: 1.5em;
            font-weight: bold;
            color: #4a90e2;
            margin-bottom: 15px;
        }
        .result-analysis {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 25px;
        }
        #retry-btn {
            background-color: #4a90e2;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px 25px;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        #retry-btn:hover {
            background-color: #357abd;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <h1 class="site-title">INTP: The Thinker's Hub</h1>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html">홈</a></li>
                    <li class="dropdown">
                        <a href="../intp-explained/index.html">INTP 탐구</a>
                        <ul class="dropdown-menu">
                            <li><a href="../intp-explained/cognitive-functions/index.html">인지 기능</a></li>
                            <li><a href="../intp-explained/subtypes/index.html">하위 유형</a></li>
                            <li><a href="../intp-explained/relationships/index.html">관계와 사회성</a></li>
                            <li><a href="../intp-explained/career/index.html">커리어와 성장</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="../tests.html">심리 테스트</a>
                        <ul class="dropdown-menu">
                            <li><a href="../tendency/index.html">INTP 성향 테스트</a></li>
                            <li><a href="#">인지 기능 테스트 (준비 중)</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="../resources/index.html">자료실</a>
                        <ul class="dropdown-menu">
                            <li><a href="../resources/memes/index.html">INTP 밈 갤러리</a></li>
                            <li><a href="#">추천 콘텐츠 (준비 중)</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="site-main">
        <div id="quiz-container">
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div id="quiz-content">
                <h2 id="quiz-title">INTP 성향 테스트</h2>
                <p class="question" id="question"></p>
                <ul class="answers" id="answers"></ul>
            </div>
            <div id="result-container">
                 <div id="result-content">
                    <h2>테스트 결과</h2>
                    <div class="result-text" id="result-text"></div>
                    <p class="result-analysis" id="result-analysis"></p>
                    <button id="retry-btn">다시하기</button>
                </div>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2025 INTP Hub. All rights reserved.</p>
            <p><a href="#">개인정보처리방침</a> | <a href="#">문의하기</a></p>
        </div>
    </footer>

    <script>
        const quizData = [
            {
                question: "친구가 감정적인 고민을 털어놓을 때, 당신의 첫 반응은?",
                answers: [
                    { text: "문제의 원인을 분석하고 논리적인 해결책을 제시한다.", value: 10 },
                    { text: "이야기를 들어주며, 왜 그런 감정을 느끼는지 질문하며 이해하려고 노력한다.", value: 5 },
                    { text: "따뜻한 말로 위로하며 감정적으로 공감해준다.", value: 0 }
                ]
            },
            {
                question: "새로운 이론이나 복잡한 시스템에 대한 설명을 들었을 때, 당신은?",
                answers: [
                    { text: "매우 흥미를 느끼며, 그 원리와 구조를 밤새워서라도 파고들고 싶어한다.", value: 10 },
                    { text: "흥미롭다고 생각하지만, 기본적인 개념 정도만 이해하고 넘어간다.", value: 5 },
                    { text: "지루하게 느껴지며, 현실적인 활용법에 더 관심이 간다.", value: 0 }
                ]
            },
            {
                question: "주말 계획을 세울 때, 당신의 스타일은?",
                answers: [
                    { text: "계획에 얽매이지 않고 그 순간의 기분과 흥미에 따라 즉흥적으로 보낸다.", value: 10 },
                    { text: "가고 싶은 곳 몇 군데를 정해두고, 상황에 따라 유연하게 움직인다.", value: 5 },
                    { text: "미리 갈 곳, 할 일을 시간 단위로 정해두고 체계적으로 움직이는 것을 선호한다.", value: 0 }
                ]
            },
            {
                question: "혼자만의 시간이 생겼을 때, 주로 무엇을 하는가?",
                answers: [
                    { text: "평소 궁금했던 주제를 깊이 탐구하거나, 상상의 나래를 펼친다.", value: 10 },
                    { text: "영화를 보거나 게임을 하는 등, 혼자 즐길 수 있는 취미를 즐긴다.", value: 5 },
                    { text: "외로움을 느껴 친구에게 연락하거나, 밖으로 나가 사람들을 만난다.", value: 0 }
                ]
            },
            {
                question: "대화 중 상대방의 말에 논리적 오류가 있다면?",
                answers: [
                    { text: "정확한 사실을 위해 그 자리에서 바로 지적하고 바로잡는다.", value: 10 },
                    { text: "대화의 흐름을 깨지 않기 위해 일단 넘어가지만, 계속 신경 쓰인다.", value: 5 },
                    { text: "좋은 관계를 위해, 오류를 알아채도 굳이 언급하지 않고 넘어간다.", value: 0 }
                ]
            },
            {
                question: "당신에게 더 중요한 것은?",
                answers: [
                    { text: "일관성 있는 논리와 원칙", value: 10 },
                    { text: "상황에 따른 융통성과 적응", value: 5 },
                    { text: "전통과 사회적으로 검증된 방법", value: 0 }
                ]
            },
            {
                question: "어떤 일을 시작하기 전에 당신은?",
                answers: [
                    { text: "완벽한 계획과 이해가 선행되어야 해서, 정보 수집 단계가 매우 길다.", value: 10 },
                    { text: "대략적인 계획만 세우고, 일단 시작해서 부딪히면서 해결해 나간다.", value: 5 },
                    { text: "계획보다는 즉각적인 실행을 중요하게 생각한다.", value: 0 }
                ]
            },
            {
                question: "정해진 규칙이나 관습을 따라야 하는 상황이라면?",
                answers: [
                    { text: "그것이 비논리적이라고 생각되면, 의문을 제기하거나 따르지 않을 방법을 찾는다.", value: 10 },
                    { text: "불편하긴 하지만, 큰 문제가 없다면 일단 따른다.", value: 5 },
                    { text: "사회적 약속이므로, 별다른 의문 없이 편안하게 따른다.", value: 0 }
                ]
            },
            {
                question: "새로운 프로젝트를 시작하는 것과, 진행 중인 프로젝트를 마무리하는 것 중 더 끌리는 것은?",
                answers: [
                    { text: "새로운 아이디어로 새 프로젝트를 구상하고 시작하는 것", value: 10 },
                    { text: "둘 다 비슷하지만, 새로운 쪽이 조금 더 재미있다.", value: 5 },
                    { text: "진행 중인 프로젝트를 꼼꼼하게 마무리 짓는 것", value: 0 }
                ]
            },
            {
                question: "당신이 더 중요하게 생각하는 가치는?",
                answers: [
                    { text: "정확성과 객관적인 진실", value: 10 },
                    { text: "효율성과 실용적인 결과", value: 5 },
                    { text: "사람들과의 조화와 협력", value: 0 }
                ]
            },
            {
                question: "머릿속에 떠오른 독창적인 아이디어를 다른 사람에게 설명할 때, 당신은?",
                answers: [
                    { text: "내 생각의 복잡한 과정을 설명하는 데 어려움을 느끼거나, 사람들이 이해하지 못할 거라고 생각한다.", value: 10 },
                    { text: "핵심만 간추려서 설명하지만, 종종 너무 많은 내용을 생략한다는 말을 듣는다.", value: 5 },
                    { text: "다른 사람들이 이해하기 쉽게, 처음부터 끝까지 체계적으로 잘 설명한다.", value: 0 }
                ]
            }
        ];

        let currentQuestionIndex = 0;
        let intpScore = 0;

        const quizTitle = document.getElementById('quiz-title');
        const questionEl = document.getElementById('question');
        const answersEl = document.getElementById('answers');
        const quizContentEl = document.getElementById('quiz-content');
        const resultContainerEl = document.getElementById('result-container');
        const resultTextEl = document.getElementById('result-text');
        const resultAnalysisEl = document.getElementById('result-analysis');
        const progressBar = document.getElementById('progressBar');
        const retryBtn = document.getElementById('retry-btn');

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function loadQuiz() {
            const currentQuestion = quizData[currentQuestionIndex];
            questionEl.innerText = currentQuestion.question;
            answersEl.innerHTML = '';

            const shuffledAnswers = shuffleArray([...currentQuestion.answers]);

            shuffledAnswers.forEach(answer => {
                const li = document.createElement('li');
                li.classList.add('answer');
                li.innerText = answer.text;
                li.addEventListener('click', () => selectAnswer(answer.value));
                answersEl.appendChild(li);
            });
            updateProgressBar();
        }

        function selectAnswer(value) {
            intpScore += value;
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuiz();
            } else {
                showResults();
            }
        }
        
        function updateProgressBar() {
            const progress = ((currentQuestionIndex) / quizData.length) * 100;
            progressBar.style.width = progress + '%';
        }

        function showResults() {
            quizContentEl.style.display = 'none';
            resultContainerEl.style.display = 'block';
            
            const maxScore = quizData.length * 10;
            const finalPercentage = Math.round((intpScore / maxScore) * 100);
            progressBar.style.width = '100%';

            resultTextEl.innerText = `당신의 INTP 성향은 ${finalPercentage}% 입니다.`;

            let analysis = '';
            if (finalPercentage >= 80) {
                analysis = "당신은 전형적인 '논리적인 사색가', INTP의 특성을 강하게 가지고 있습니다. 복잡한 문제를 분석하고, 지적 호기심을 채우는 데에서 큰 즐거움을 느끼는군요. 때로는 너무 생각에 깊이 빠져 현실을 놓치기도 하지만, 당신의 독창적인 아이디어는 세상을 새로운 관점에서 보게 만듭니다.";
            } else if (finalPercentage >= 50) {
                analysis = "당신은 INTP의 성향을 상당 부분 가지고 있습니다. 논리적이고 분석적인 사고를 즐기지만, 필요에 따라 현실적인 감각을 발휘할 줄도 아는군요. 지적인 토론을 즐기면서도, 사람들과의 관계를 원만하게 유지하는 균형 잡힌 모습을 보입니다.";
            } else {
                analysis = "당신은 INTP보다는 다른 성향이 더 강하게 나타나는 것 같습니다. 논리적인 분석보다는 감정적인 공감이나 현실적인 실행을 더 중요하게 생각할 수 있습니다. 하지만 누구나 여러 성향을 함께 가지고 있답니다. 이 테스트는 재미로 즐겨주세요!";
            }
            resultAnalysisEl.innerText = analysis;
        }

        function retryQuiz() {
            currentQuestionIndex = 0;
            intpScore = 0;
            resultContainerEl.style.display = 'none';
            quizContentEl.style.display = 'block';
            loadQuiz();
        }

        retryBtn.addEventListener('click', retryQuiz);

        loadQuiz();
    </script>
</body>
</html>